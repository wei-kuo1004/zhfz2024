(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[275],{9623:function(e,t,i){Promise.resolve().then(i.bind(i,7559))},7559:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return a}});var s=i(7437),r=i(6694),o=i(2265),c=i(6648),g=i(6463),h=i(2391),u=i(9903);function a(){let{selectedCharacter:e,currentLevel:t,setCurrentLevel:i,setAnswer:a}=(0,r.A)(),n=(0,g.useRouter)(),[p,C]=(0,o.useState)(!1),[z,w]=(0,o.useState)(""),[m,b]=(0,o.useState)(null),[l,f]=(0,o.useState)(!0);(0,o.useEffect)(()=>{t>3&&(i(1),n.push("/fourthScene"))},[t,n]),(0,o.useEffect)(()=>{let e=k();e&&b(e)},[e,t]),(0,o.useEffect)(()=>{m&&Promise.all([m.bg,...m.options.map(e=>e.src),m.correctImage,m.wrongImage].map(e=>new Promise(t=>{let i=new window.Image;i.src=e,i.onload=t}))).then(()=>f(!1))},[m]);let D={character1:{bg:["https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q1-bg.webp","https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q2-bg.webp","https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q3-bg.webp"],options:[{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q1-A.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q1-B.png",correct:!0},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q1-C.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q1-D.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q2-A.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q2-B.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q2-C.png",correct:!0},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q2-D.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q3-A.png",correct:!0},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q3-B.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q3-C.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-Q3-D.png",correct:!1}],correctImage:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-o.webp",wrongImage:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C1/C1-x.webp"},character2:{bg:["https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q1-bg.webp","https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q2-bg.webp","https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q3-bg.webp"],options:[{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q1-A.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q1-B.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q1-C.png",correct:!0},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q1-D.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q2-A.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q2-B.png",correct:!0},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q2-C.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q2-D.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q3-A.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q3-B.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q3-C.png",correct:!0},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-Q3-D.png",correct:!1}],correctImage:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-o.webp",wrongImage:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C2/C2-x.webp"},character3:{bg:["https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q1-bg.webp","https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q2-bg.webp","https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q3-bg.webp"],options:[{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q1-A.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q1-B.png",correct:!0},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q1-C.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q1-D.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q2-A.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q2-B.png",correct:!0},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q2-C.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q2-D.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q3-A.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q3-B.png",correct:!0},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q3-C.png",correct:!1},{src:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-Q3-D.png",correct:!1}],correctImage:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-o.webp",wrongImage:"https://wei-kuo1004.github.io/zhfz2024/images/PRD/C3/C3-x.webp"}},k=()=>{let i=D[e],s=(t||1)-1;return i?{bg:i.bg[s],options:i.options.slice(4*s,4*s+4),correctImage:i.correctImage,wrongImage:i.wrongImage}:null},P=(e,s)=>{a(t,e),C(!0),w(s?m.correctImage:m.wrongImage),setTimeout(()=>{C(!1),i(t+1)},2e3)};return l||!m?(0,s.jsx)(u.Z,{}):(0,s.jsxs)("div",{className:"container relative mx-auto flex aspect-[1/1.8] min-h-screen flex-col items-center justify-end bg-cover p-2",style:{backgroundImage:"url(".concat(m.bg,")")},children:[p&&(0,s.jsx)(h.E.div,{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/50",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:500},children:(0,s.jsx)(c.default,{src:z,alt:"答題反饋",width:300,height:300,style:{width:"auto",height:"auto"}})}),(0,s.jsx)("div",{className:"mb-8 flex w-full max-w-2xl flex-col space-y-1",children:m.options.map((e,t)=>(0,s.jsx)("div",{className:"flex w-full cursor-pointer justify-center",onClick:()=>!p&&P(String.fromCharCode(65+t),e.correct),children:(0,s.jsx)("div",{className:"relative aspect-[10/2.5] w-full",children:(0,s.jsx)(c.default,{src:e.src,alt:"選項 ".concat(String.fromCharCode(65+t)),fill:!0,style:{objectFit:"cover"},sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})})},t))})]})}},9903:function(e,t,i){"use strict";var s=i(7437);i(2265),t.Z=()=>(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-yellow-400",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("div",{className:"h-3 w-3 animate-bounce rounded-full bg-gray-800 delay-0"}),(0,s.jsx)("div",{className:"h-3 w-3 animate-bounce rounded-full bg-gray-800 delay-200"}),(0,s.jsx)("div",{className:"delay-400 h-3 w-3 animate-bounce rounded-full bg-gray-800"})]})})},6694:function(e,t,i){"use strict";i.d(t,{A:function(){return r}});let s=(0,i(9099).Ue)(e=>({selectedCharacter:"",setSelectedCharacter:t=>{console.log("使用者選擇了: ".concat(t)),e({selectedCharacter:t})},currentLevel:1,setCurrentLevel:t=>{console.log("進入第 ".concat(t," 關")),e({currentLevel:t})},answers:{},setAnswer:(t,i)=>{console.log("第 ".concat(t," 關選擇了: ").concat(i)),e(e=>({answers:{...e.answers,[t]:i}}))}})),r=()=>{let e=s(e=>e.selectedCharacter),t=s(e=>e.setSelectedCharacter),i=s(e=>e.currentLevel);return{selectedCharacter:e,setSelectedCharacter:t,currentLevel:i,setCurrentLevel:s(e=>e.setCurrentLevel),answers:s(e=>e.answers),setAnswer:s(e=>e.setAnswer)}}}},function(e){e.O(0,[648,238,335,744],function(){return e(e.s=9623)}),_N_E=e.O()}]);