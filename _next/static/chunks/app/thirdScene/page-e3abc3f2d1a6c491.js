(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[275],{9623:function(e,r,c){Promise.resolve().then(c.bind(c,6154))},6154:function(e,r,c){"use strict";c.r(r),c.d(r,{default:function(){return p}});var s=c(7437),t=c(6694),n=c(2265),a=c(6648),g=c(6463),C=c(2391),i=c(7449),o=c.n(i);let l=e=>{let{option:r,index:c,onClick:t}=e;return(0,s.jsx)("div",{className:"flex w-full cursor-pointer justify-center",onClick:t,children:(0,s.jsx)("div",{className:"relative w-full",style:{aspectRatio:"10 / 2.5"},children:(0,s.jsx)(a.default,{src:r.src,alt:"選項 ".concat(String.fromCharCode(65+c)),fill:!0,style:{objectFit:"contain"}})})})};var m=e=>{let{data:r,showFeedback:c,handleClick:t}=e;return(0,s.jsx)("div",{className:"mb-8 flex w-full flex-col space-y-1 px-4 sm:px-8 md:px-16 lg:px-24 xl:px-32",children:r.options.map((e,r)=>(0,s.jsx)(l,{option:e,index:r,onClick:()=>!c&&t(String.fromCharCode(65+r),e.correct)},r))})};function p(){let{selectedCharacter:e,currentLevel:r,setCurrentLevel:c,setAnswer:i}=(0,t.A)(),l=(0,g.useRouter)(),[p,D]=(0,n.useState)(!1),[u,P]=(0,n.useState)(""),[R,Q]=(0,n.useState)(null);(0,n.useEffect)(()=>{r>3&&(c(1),l.push("/fourthScene"))},[r,l,c]),(0,n.useEffect)(()=>{let e=h();e&&Q(e)},[e,r]);let d={character1:{bg:["images/PRD/C1/C1-Q1-bg.png","images/PRD/C1/C1-Q2-bg.png","images/PRD/C1/C1-Q3-bg.png"],options:[{src:"images/PRD/C1/C1-Q1-A.png",correct:!1},{src:"images/PRD/C1/C1-Q1-B.png",correct:!0},{src:"images/PRD/C1/C1-Q1-C.png",correct:!1},{src:"images/PRD/C1/C1-Q1-D.png",correct:!1},{src:"images/PRD/C1/C1-Q2-A.png",correct:!1},{src:"images/PRD/C1/C1-Q2-B.png",correct:!1},{src:"images/PRD/C1/C1-Q2-C.png",correct:!0},{src:"images/PRD/C1/C1-Q2-D.png",correct:!1},{src:"images/PRD/C1/C1-Q3-A.png",correct:!0},{src:"images/PRD/C1/C1-Q3-B.png",correct:!1},{src:"images/PRD/C1/C1-Q3-C.png",correct:!1},{src:"images/PRD/C1/C1-Q3-D.png",correct:!1}],correctImage:"images/PRD/C1/C1-o.webp",wrongImage:"images/PRD/C1/C1-x.webp"},character2:{bg:["images/PRD/C2/C2-Q1-bg.png","images/PRD/C2/C2-Q2-bg.png","images/PRD/C2/C2-Q3-bg.png"],options:[{src:"images/PRD/C2/C2-Q1-A.png",correct:!1},{src:"images/PRD/C2/C2-Q1-B.png",correct:!1},{src:"images/PRD/C2/C2-Q1-C.png",correct:!0},{src:"images/PRD/C2/C2-Q1-D.png",correct:!1},{src:"images/PRD/C2/C2-Q2-A.png",correct:!1},{src:"images/PRD/C2/C2-Q2-B.png",correct:!0},{src:"images/PRD/C2/C2-Q2-C.png",correct:!1},{src:"images/PRD/C2/C2-Q2-D.png",correct:!1},{src:"images/PRD/C2/C2-Q3-A.png",correct:!1},{src:"images/PRD/C2/C2-Q3-B.png",correct:!1},{src:"images/PRD/C2/C2-Q3-C.png",correct:!0},{src:"images/PRD/C2/C2-Q3-D.png",correct:!1}],correctImage:"images/PRD/C2/C2-o.webp",wrongImage:"images/PRD/C2/C2-x.webp"},character3:{bg:["images/PRD/C3/C3-Q1-bg.png","images/PRD/C3/C3-Q2-bg.png","images/PRD/C3/C3-Q3-bg.png"],options:[{src:"images/PRD/C3/C3-Q1-A.png",correct:!1},{src:"images/PRD/C3/C3-Q1-B.png",correct:!0},{src:"images/PRD/C3/C3-Q1-C.png",correct:!1},{src:"images/PRD/C3/C3-Q1-D.png",correct:!1},{src:"images/PRD/C3/C3-Q2-A.png",correct:!1},{src:"images/PRD/C3/C3-Q2-B.png",correct:!1},{src:"images/PRD/C3/C3-Q2-C.png",correct:!1},{src:"images/PRD/C3/C3-Q2-D.png",correct:!0},{src:"images/PRD/C3/C3-Q3-A.png",correct:!1},{src:"images/PRD/C3/C3-Q3-B.png",correct:!0},{src:"images/PRD/C3/C3-Q3-C.png",correct:!1},{src:"images/PRD/C3/C3-Q3-D.png",correct:!1}],correctImage:"images/PRD/C3/C3-o.webp",wrongImage:"images/PRD/C3/C3-x.webp"}},h=()=>{let c=d[e],s=(r||1)-1;return c?{bg:c.bg[s],options:c.options.slice(4*s,4*s+4),correctImage:c.correctImage,wrongImage:c.wrongImage}:null};return R?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o(),{children:(0,s.jsx)("title",{children:"Third Page"})}),(0,s.jsxs)("div",{className:"container relative mx-auto flex aspect-[1/1.8] min-h-screen flex-col items-center justify-end bg-cover p-2",style:{backgroundImage:"url(".concat(R.bg,")")},children:[p&&(0,s.jsx)(C.E.div,{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/50",initial:{scale:.5},animate:{scale:1},transition:{type:"tween",duration:.5,ease:"easeInOut"},children:(0,s.jsx)(a.default,{src:u,alt:"答題反饋",width:300,height:300,style:{width:"auto",height:"auto"}})}),(0,s.jsx)(m,{data:R,showFeedback:p,handleClick:(e,s)=>{i(r,e),D(!0),P(s?R.correctImage:R.wrongImage),setTimeout(()=>{D(!1),c(r+1)},2e3)}})]})]}):null}},6694:function(e,r,c){"use strict";c.d(r,{A:function(){return t}});let s=(0,c(9099).Ue)(e=>({selectedCharacter:"",setSelectedCharacter:r=>{console.log("使用者選擇了: ".concat(r)),e({selectedCharacter:r})},currentLevel:1,setCurrentLevel:r=>{console.log("進入第 ".concat(r," 關")),e({currentLevel:r})},answers:{},setAnswer:(r,c)=>{console.log("第 ".concat(r," 關選擇了: ").concat(c)),e(e=>({answers:{...e.answers,[r]:c}}))}})),t=()=>{let e=s(e=>e.selectedCharacter),r=s(e=>e.setSelectedCharacter),c=s(e=>e.currentLevel);return{selectedCharacter:e,setSelectedCharacter:r,currentLevel:c,setCurrentLevel:s(e=>e.setCurrentLevel),answers:s(e=>e.answers),setAnswer:s(e=>e.setAnswer)}}}},function(e){e.O(0,[648,512,971,23,744],function(){return e(e.s=9623)}),_N_E=e.O()}]);