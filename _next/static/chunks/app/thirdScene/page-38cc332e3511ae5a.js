(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[275],{9623:function(e,r,c){Promise.resolve().then(c.bind(c,7559))},7559:function(e,r,c){"use strict";c.r(r),c.d(r,{default:function(){return o}});var s=c(7437),t=c(6694),g=c(2265),a=c(6648),n=c(6463),C=c(2391);function o(){let{selectedCharacter:e,currentLevel:r,setCurrentLevel:c,setAnswer:o}=(0,t.A)(),i=(0,n.useRouter)(),[m,l]=(0,g.useState)(!1),[p,D]=(0,g.useState)(""),[u,P]=(0,g.useState)(null);(0,g.useEffect)(()=>{r>3&&(c(1),i.push("/fourthScene"))},[r,i]),(0,g.useEffect)(()=>{let e=Q();e&&P(e)},[e,r]);let R={character1:{bg:["/images/PRD/C1/C1-Q1-bg.jpg","/images/PRD/C1/C1-Q2-bg.jpg","/images/PRD/C1/C1-Q3-bg.jpg"],options:[{src:"/images/PRD/C1/C1-Q1-A.png",correct:!1},{src:"/images/PRD/C1/C1-Q1-B.png",correct:!0},{src:"/images/PRD/C1/C1-Q1-C.png",correct:!1},{src:"/images/PRD/C1/C1-Q1-D.png",correct:!1},{src:"/images/PRD/C1/C1-Q2-A.png",correct:!1},{src:"/images/PRD/C1/C1-Q2-B.png",correct:!1},{src:"/images/PRD/C1/C1-Q2-C.png",correct:!0},{src:"/images/PRD/C1/C1-Q2-D.png",correct:!1},{src:"/images/PRD/C1/C1-Q3-A.png",correct:!0},{src:"/images/PRD/C1/C1-Q3-B.png",correct:!1},{src:"/images/PRD/C1/C1-Q3-C.png",correct:!1},{src:"/images/PRD/C1/C1-Q3-D.png",correct:!1}],correctImage:"/images/PRD/C1/C1-o.jpg",wrongImage:"/images/PRD/C1/C1-x.jpg"},character2:{bg:["/images/PRD/C2/C2-Q1-bg.jpg","/images/PRD/C2/C2-Q2-bg.jpg","/images/PRD/C2/C2-Q3-bg.jpg"],options:[{src:"/images/PRD/C2/C2-Q1-A.png",correct:!1},{src:"/images/PRD/C2/C2-Q1-B.png",correct:!1},{src:"/images/PRD/C2/C2-Q1-C.png",correct:!0},{src:"/images/PRD/C2/C2-Q1-D.png",correct:!1},{src:"/images/PRD/C2/C2-Q2-A.png",correct:!1},{src:"/images/PRD/C2/C2-Q2-B.png",correct:!0},{src:"/images/PRD/C2/C2-Q2-C.png",correct:!1},{src:"/images/PRD/C2/C2-Q2-D.png",correct:!1},{src:"/images/PRD/C2/C2-Q3-A.png",correct:!1},{src:"/images/PRD/C2/C2-Q3-B.png",correct:!1},{src:"/images/PRD/C2/C2-Q3-C.png",correct:!0},{src:"/images/PRD/C2/C2-Q3-D.png",correct:!1}],correctImage:"/images/PRD/C2/C2-o.jpg",wrongImage:"/images/PRD/C2/C2-x.jpg"},character3:{bg:["/images/PRD/C3/C3-Q1-bg.jpg","/images/PRD/C3/C3-Q2-bg.jpg","/images/PRD/C3/C3-Q3-bg.jpg"],options:[{src:"/images/PRD/C3/C3-Q1-A.png",correct:!1},{src:"/images/PRD/C3/C3-Q1-B.png",correct:!0},{src:"/images/PRD/C3/C3-Q1-C.png",correct:!1},{src:"/images/PRD/C3/C3-Q1-D.png",correct:!1},{src:"/images/PRD/C3/C3-Q2-A.png",correct:!1},{src:"/images/PRD/C3/C3-Q2-B.png",correct:!0},{src:"/images/PRD/C3/C3-Q2-C.png",correct:!1},{src:"/images/PRD/C3/C3-Q2-D.png",correct:!1},{src:"/images/PRD/C3/C3-Q3-A.png",correct:!1},{src:"/images/PRD/C3/C3-Q3-B.png",correct:!0},{src:"/images/PRD/C3/C3-Q3-C.png",correct:!1},{src:"/images/PRD/C3/C3-Q3-D.png",correct:!1}],correctImage:"/images/PRD/C3/C3-o.jpg",wrongImage:"/images/PRD/C3/C3-x.jpg"}},Q=()=>{let c=R[e],s=(r||1)-1;return c?{bg:c.bg[s],options:c.options.slice(4*s,4*s+4),correctImage:c.correctImage,wrongImage:c.wrongImage}:null},f=(e,s)=>{o(r,e),l(!0),D(s?u.correctImage:u.wrongImage),setTimeout(()=>{l(!1),c(r+1)},2e3)};return u?(0,s.jsxs)("div",{className:"container relative mx-auto flex aspect-[1/1.8] min-h-screen flex-col items-center justify-end bg-cover p-2",style:{backgroundImage:"url(".concat(u.bg,")")},children:[m&&(0,s.jsx)(C.E.div,{className:"absolute inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:500},children:(0,s.jsx)(a.default,{src:p,alt:"答題反饋",layout:"intrinsic",width:300,height:300})}),(0,s.jsx)("div",{className:"mb-8 flex w-full max-w-2xl flex-col space-y-1",children:u.options.map((e,r)=>(0,s.jsx)("div",{className:"flex w-full cursor-pointer justify-center",onClick:()=>!m&&f(String.fromCharCode(65+r),e.correct),children:(0,s.jsx)("div",{className:"relative aspect-[10/2.5] w-full",children:(0,s.jsx)(a.default,{src:e.src,alt:"選項 ".concat(String.fromCharCode(65+r)),layout:"fill",objectFit:"cover",className:"transition-transform duration-200 hover:scale-105 ".concat(m?"opacity-50":"")})})},r))})]}):(0,s.jsx)("div",{children:"沒有選擇角色"})}},6694:function(e,r,c){"use strict";c.d(r,{A:function(){return t}});let s=(0,c(9099).Ue)(e=>({selectedCharacter:"",setSelectedCharacter:r=>{console.log("使用者選擇了: ".concat(r)),e({selectedCharacter:r})},currentLevel:1,setCurrentLevel:r=>{console.log("進入第 ".concat(r," 關")),e({currentLevel:r})},answers:{},setAnswer:(r,c)=>{console.log("第 ".concat(r," 關選擇了: ").concat(c)),e(e=>({answers:{...e.answers,[r]:c}}))}})),t=()=>{let e=s(e=>e.selectedCharacter),r=s(e=>e.setSelectedCharacter),c=s(e=>e.currentLevel);return{selectedCharacter:e,setSelectedCharacter:r,currentLevel:c,setCurrentLevel:s(e=>e.setCurrentLevel),answers:s(e=>e.answers),setAnswer:s(e=>e.setAnswer)}}}},function(e){e.O(0,[648,108,971,23,744],function(){return e(e.s=9623)}),_N_E=e.O()}]);